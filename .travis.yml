language: go
go: 
  - "1.10.1"
  - master
node_js:
  - "8.11.1"
  - master
services: mongodb
before_install:                                                                 
  - curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh  
install:
  - dep ensure
before_script:
  - sleep 15
script:
  - GOCACHE=off go test ./... -coverprofile=/tmp/go-code-cover
  - npm run build
env:
  global:
    - INKSTER_DB_URI=mongodb://127.0.0.1:27017/inkster
    - INKSTER_DB_NAME=inkster
    - INKSTER_PORT=8000 
    - INKSTER_STATIC=$TRAVIS_BUILD_DIR/static
